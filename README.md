# CoLi-BA: Compact Linearization based Solver for Bundle Adjustment

### [Paper](https://ieeexplore.ieee.org/abstract/document/9873988)

## Introduction

CoLi-BA is an open-source C++ library for solving bundle adjustment problems. 
CoLi-BA has a very high solution speed, which is several times of the existing solution algorithm.

## Install

Requirements
+ C++17
+ GCC 7.5+
+ CMake 3.10+ 

Dependencies from the default Ubuntu repositories:
```shell
    sudo apt-get install \
        wget \
        git \
        cmake \
        build-essential \
        libglew-dev \
        libgtest-dev \
        libgflags-dev \
        libgoogle-glog-dev \
        libatlas-base-dev \
        libsuitesparse-dev \
        libtbb-dev
```
Install [eigen](https://gitlab.com/libeigen/eigen.git)
```shell
git clone https://gitlab.com/libeigen/eigen.git
cd eigen
mkdir build 
cd build
cmake .. 
sudo make install 
```

Install [g2o](https://github.com/RainerKuemmerle/g2o)
```shell
git clone https://github.com/RainerKuemmerle/g2o.git
cd g2o
mkdir build && cd build
cmake .. && make -j4 &&sudo make install 
```

Compile CoLi-BA
```shell
git clone --recursive https://github.com/zju3dv/CoLi-BA.git
cd CoLi-BA/ceres-solver
mkdir build && cd build
cmake .. && make -j4 &&sudo make install
cd ../../
mkdir build && cd build
cmake .. -DCMAKE_BUILD_TYPE=Release
make -j4
```

## Getting Started

1. Download the provided [test data](https://1drv.ms/u/s!AteiIkLvFJ3rhkOyieVNtJqglN_h?e=0deoiI) or prepare data with your own images.

2. The input data can be generated by [colmap](https://github.com/colmap/colmap)

    ```bash
    /data/path/
    ├── cameras.bin
    ├── images.bin
    └── points3D.bin
    ```


3. Run the following command to solve the BA problems:
    ```
    ./bin/main /data/path/ coli
    ```

## Citation
```bibtex
@article{ye2022coli,
  title={CoLi-BA: Compact Linearization based Solver for Bundle Adjustment},
  author={Ye, Zhichao and Li, Guanglin and Liu, Haomin and Cui, Zhaopeng and Bao, Hujun and Zhang, Guofeng},
  journal={IEEE Transactions on Visualization and Computer Graphics},
  year={2022},
  publisher={IEEE}
}
```